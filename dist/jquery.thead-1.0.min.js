/* * jQuery THead Plugin v1.0 * http://www.asual.com/jquery/thead/ * * Copyright (c) 2009 Rostislav Hristov * Dual licensed under the MIT and GPL licenses. * http://docs.jquery.com/License * * Date: 2009-10-06 01:02:55 +0300 (Tue, 06 Oct 2009) */(function(i){var d="class",g="cellpadding",a="cellspacing",j=navigator.userAgent,n=i(window),k=i(document),f=[],h=4,e=!(i.browser.msie&&parseFloat(j.substr(j.indexOf("MSIE")+h))<7),c=null,b=function(){i(f).each(function(){var q="thead tr *",p=i("table.jquery-thead, table",this.parent().prev()).get(0),u=i("caption",p),o=i(q,p),r=k.scrollTop()-i(p).offset().top+h;if(u.length){r-=u.get(0).clientHeight}i(q,this).each(function(t){var v=o.eq(t).get(0),s=i(v).css("width");i(this).css("width",s!="auto"?s:v.clientWidth-parseInt(i(v).css("padding-left"))-parseInt(i(v).css("padding-right"))+"px")});i(this).css({display:(r>h&&r<p.clientHeight-i("tr:last",p).height()-h*2)?i(p).css("display"):"none",left:i(p).offset().left-k.scrollLeft()+"px",width:p.clientWidth})})},l=function(){if(c==null){c=setInterval(function(){if(c){c=clearInterval(c)}b()},50)}},m=function(){i("table.jquery-thead, .jquery-thead table").thead()};i(function(){if(e){n.scroll(b).resize(l);m()}});i.fn.thead=function(){if(e){var o=i(this);o.each(function(){var r,q=i(this).parent(),s=i("thead",this);if(s.length){var p=i(this).attr(a);r=i("<table />").attr(d,i(this).attr(d)).attr(g,i(this).attr(g)).attr(a,p).css({position:"fixed",top:0}).appendTo(i("<"+q.get(0).tagName+"/>").attr(d,q.attr(d)).insertAfter(q));f.push(r.append(i(s).clone(true)).append(p>0?"":'<tbody><tr><td colspan="'+i("tr *",s).size()+'" style="height:0;padding:0;" /></tr></tbody>'))}})}b()}})(jQuery);