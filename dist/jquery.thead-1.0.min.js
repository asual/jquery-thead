/* * jQuery THead Plugin v1.0 * http://www.asual.com/jquery/thead/ * * Copyright (c) 2009-2010 Rostislav Hristov * Dual licensed under the MIT and GPL licenses. * http://docs.jquery.com/License * * Date: 2010-01-18 23:10:52 +0200 (Mon, 18 Jan 2010) */(function(i){var d="class",g="cellpadding",a="cellspacing",j=navigator.userAgent,l=i(window),k=i(document),f=[],h=4,e=!(i.browser.msie&&parseFloat(j.substr(j.indexOf("MSIE")+h))<7),c=null,b=function(){i(f).each(function(){var o="thead tr *",n=i("table.jquery-thead, table",this.parent().prev()).get(0),r=i("caption",n),q=i(n).css("border-collapse")=="collapse",m=i(o,n),p=k.scrollTop()-i(n).offset().top+h;if(r.length){p-=r.get(0).clientHeight}i(o,this).each(function(t){var u=m.eq(t).get(0),s=i(u).css("width");i(this).css("width",s!="auto"?s:u.clientWidth-parseInt(i(u).css("padding-left"))-parseInt(i(u).css("padding-right"))+"px")});i(this).css({display:(p>h&&p<n.clientHeight-i("tr:last",n).height()-h*2)?i(n).css("display"):"none",left:i(n).offset().left-k.scrollLeft()+"px",width:i(n).width()})})};i(function(){if(e){l.scroll(b).resize(function(){if(c==null){c=setInterval(function(){if(c){c=clearInterval(c)}b()},50)}});setInterval(function(){i(f).each(function(){var m=i("thead",i("table.jquery-thead, table",this.parent().prev()).get(0));if(this.html()!=m.html()){this.html(m.html())}})},250);i("table.jquery-thead, .jquery-thead table").thead()}});i.fn.thead=function(){if(e){var m=i(this);m.each(function(){var q,p=i(this).parent(),r=i("thead",this);if(r.length){var n=i(this).attr(d),s=i(this).attr(g),o=i(this).attr(a),q=i("<table />").attr(d,n).attr(g,s?s:1).attr(a,o?o:2).css({position:"fixed",top:0}).appendTo(i("<"+p.get(0).tagName+"/>").attr(d,p.attr(d)).insertAfter(p));f.push(q.append(i(r).clone(true)))}})}b()}})(jQuery);