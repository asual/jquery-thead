/* * jQuery THead Plugin v1.0 * http://www.asual.com/jquery/thead/ * * Copyright (c) 2009 Rostislav Hristov * Dual licensed under the MIT and GPL licenses. * http://docs.jquery.com/License * * Date: 2009-11-23 15:48:11 +0200 (Mon, 23 Nov 2009) */(function(i){var d="class",g="cellpadding",a="cellspacing",j=navigator.userAgent,n=i(window),k=i(document),f=[],h=4,e=!(i.browser.msie&&parseFloat(j.substr(j.indexOf("MSIE")+h))<7),c=null,b=function(){i(f).each(function(){var q="thead tr *",p=i("table.jquery-thead, table",this.parent().prev()).get(0),v=i("caption",p),u=i(p).css("border-collapse")=="collapse",o=i(q,p),r=k.scrollTop()-i(p).offset().top+h;if(v.length){r-=v.get(0).clientHeight}i(q,this).each(function(t){var x=o.eq(t).get(0),s=i(x).css("width");i(this).css("width",s!="auto"?s:x.clientWidth-parseInt(i(x).css("padding-left"))-parseInt(i(x).css("padding-right"))+"px")});i(this).css({display:(r>h&&r<p.clientHeight-i("tr:last",p).height()-h*2)?i(p).css("display"):"none",left:i(p).offset().left-k.scrollLeft()+"px",width:i(p).width()})})},l=function(){if(c==null){c=setInterval(function(){if(c){c=clearInterval(c)}b()},50)}},m=function(){i("table.jquery-thead, .jquery-thead table").thead()};i(function(){if(e){n.scroll(b).resize(l);m()}});i.fn.thead=function(){if(e){var o=i(this);o.each(function(){var s,r=i(this).parent(),t=i("thead",this);if(t.length){var p=i(this).attr(d),u=i(this).attr(g),q=i(this).attr(a),s=i("<table />").attr(d,p).attr(g,u?u:1).attr(a,q?q:2).css({position:"fixed",top:0}).appendTo(i("<"+r.get(0).tagName+"/>").attr(d,r.attr(d)).insertAfter(r));f.push(s.append(i(t).clone(true)))}})}b()}})(jQuery);